<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Chemiscope as a library &#8212; chemiscope 0.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/css/chemiscope.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="User tutorial" href="tutorial.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://chemiscope.org">
        chemiscope</a>
      <span class="navbar-text navbar-version pull-left"><b></b></span>
    </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
              <li><a href="index.html">Documentation</a></li>
          
          
            
            
          
          
            
              
  <li>
    <a href="tutorial.html" title="Previous Chapter: User tutorial"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; User tutorial</span>
    </a>
  </li>
            
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
  </div>
</div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">User tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#introduction-to-structural-properties">Introduction to structural properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#different-panels-and-settings">Different panels and settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#input-file-format-for-chemiscope">Input file format for chemiscope</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#using-the-standalone-visualizer">Using the standalone visualizer</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Chemiscope as a library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-and-building-the-code">Getting and building the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-example">Usage example</a></li>
</ul>
</li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="chemiscope-as-a-library">
<h1>Chemiscope as a library<a class="headerlink" href="#chemiscope-as-a-library" title="Permalink to this headline">¶</a></h1>
<p>It is possible to use chemiscope as a software library when writing your own
web-based interface. This page document how to get the library and give a few
usage examples. You may also want to look at the <a class="reference external" href="api/index.html">API documentation</a> for all classes, interfaces and functions in chemiscope.</p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>Chemiscope relies on different external dependencies that you should load in all
the HTML pages using it. You can serve these from your own webserver, or use a
CDN to deliver them.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://jmol.org/">JSmol</a> for structure visualization;</p></li>
<li><p><a class="reference external" href="https://getbootstrap.com/">Bootstrap</a> for HTML styling and basic UI;</p></li>
<li><p>Both JSmol and Bootstrap rely on the ubiquitous <a class="reference external" href="https://jquery.com/">JQuery</a> and <a class="reference external" href="https://jqueryui.com/">JQueryUI</a></p></li>
</ul>
</div>
<div class="section" id="getting-and-building-the-code">
<h2>Getting and building the code<a class="headerlink" href="#getting-and-building-the-code" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pre-built-version">
<h3>Pre-built version<a class="headerlink" href="#pre-built-version" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to do so is to download the latest release from <a class="reference external" href="https://github.com/cosmo-epfl/chemiscope/releases">the release
page</a> on GitHub. The main
file is <code class="docutils literal notranslate"><span class="pre">chemiscope.min.js</span></code>, containing the needed JavaScript code to create
the default visualizer. This file exports a single global object <code class="docutils literal notranslate"><span class="pre">Chemiscope</span></code>,
which contains references to</p>
<ul class="simple">
<li><p><a class="reference external" href="api/classes/main.defaultvizualizer.html">Chemiscope.DefaultVizualizer</a></p></li>
<li><p><a class="reference external" href="api/modules/utils.html#addwarninghandler">Chemiscope.addWarningHandler</a></p></li>
<li><p><a class="reference external" href="api/classes/main.metadatapanel.html">Chemiscope.MetadataPanel</a></p></li>
<li><p><a class="reference external" href="api/classes/structure.structureviewer.html">Chemiscope.StructureViewer</a></p></li>
<li><p><a class="reference external" href="api/classes/map.propertiesmap.html">Chemiscope.PropertiesMap</a></p></li>
<li><p><a class="reference external" href="api/classes/info.environmentinfo.html">Chemiscope.EnvironmentInfo</a></p></li>
<li><p><a class="reference external" href="api/classes/utils.environmentindexer.html">Chemiscope.EnvironmentIndexer</a></p></li>
</ul>
<p>Partial builds are also available, in particular <code class="docutils literal notranslate"><span class="pre">jsmol-widget.min.js</span></code> which
only contains code related to <a class="reference external" href="api/classes/structure.jsmolwidget.html">Chemiscope.JSmolWidget</a>, making
the minified JavaScript file much smaller. Other partial builds containing only
part of chemiscope can be added upon request.</p>
</div>
<div class="section" id="build-from-sources">
<h3>Build from sources<a class="headerlink" href="#build-from-sources" title="Permalink to this headline">¶</a></h3>
<p>Chemiscope is written in TypeScript, a statically typed language which compiles
to JavaScript. It uses the standard JavaScript ecosystem tools for dependency
management, <code class="docutils literal notranslate"><span class="pre">npm</span></code>. To build chemiscope from sources, you will first need to
get the sources, either as an archive from <a class="reference external" href="https://github.com/cosmo-epfl/chemiscope/releases">the release page</a>, or using git</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/cosmo-epfl/chemiscope
</pre></div>
</div>
<p>You will also need <a class="reference external" href="https://nodejs.org/en/">node.js</a> and <a class="reference external" href="https://docs.npmjs.com/cli/npm">npm</a>, which you can install with your favorite
package manager.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> chemiscope
npm install
npm run build
</pre></div>
</div>
<p>This should create a <code class="docutils literal notranslate"><span class="pre">dist</span></code> directory, containing all the minified JavaScript
libraries.</p>
</div>
<div class="section" id="usage-inside-a-javascript-project">
<h3>Usage inside a JavaScript project<a class="headerlink" href="#usage-inside-a-javascript-project" title="Permalink to this headline">¶</a></h3>
<p>If you already have a JavaScript project using <code class="docutils literal notranslate"><span class="pre">npm</span></code> or <code class="docutils literal notranslate"><span class="pre">yarn</span></code>, you can use
the version of Chemiscope available on npm. Add it to your project with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm install chemiscope
</pre></div>
</div>
<p>And import the library inside your own code using</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">Chemiscope</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;chemiscope&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>If your are using TypeScript, definition files are also provided with the npm
package, and should give you auto-completion, inline documentation and interface
checking.</p>
</div>
</div>
<div class="section" id="usage-example">
<h2>Usage example<a class="headerlink" href="#usage-example" title="Permalink to this headline">¶</a></h2>
<p>Below is the minimal HTML and JavaScript code needed to load and use the default
chemiscope interface. Additional code would be required to load the dataset,
using JSON files or directly.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Chemiscope basic example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

        <span class="c">&lt;!-- Load all dependencies --&gt;</span>
        <span class="c">&lt;!-- jquery --&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha256-KM512VNnjElC30ehFwehXjx1YCHPiQkOPmqnrWtpccM=&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

        <span class="c">&lt;!-- bootstrap --&gt;</span>
        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha256-L/W5Wfqfa0sdBNIKN9cG6QA5F2qx4qICmU2VgLruv9Y=&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js&quot;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&quot;sha256-WqU1JavFxSAMcLP2WIOI+GB2zWmShMI82mTpLDcqFUg=&quot;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&quot;anonymous&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

        <span class="c">&lt;!-- JSmol --&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://chemapps.stolaf.edu/jmol/jsmol-2019-10-30/JSmol.min.nojq.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

        <span class="c">&lt;!-- Chemiscope code and default viewer code --&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;chemiscope.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>


    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="c">&lt;!-- Create basic DOM element for the different panels to live in --&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">meta</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">map</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">structure</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">info</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>


    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
        <span class="c1">// load data from anywhere</span>
        <span class="kr">const</span> <span class="nx">dataset</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">meta</span><span class="o">:</span> <span class="c1">// to be loaded</span>
            <span class="nx">structures</span><span class="o">:</span> <span class="c1">// to be loaded</span>
            <span class="nx">properties</span><span class="o">:</span> <span class="c1">// to be loaded</span>
            <span class="nx">environments</span><span class="o">:</span> <span class="c1">// to be loaded (optional)</span>
        <span class="p">}</span>

        <span class="kr">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="c1">// id of the different elements</span>
            <span class="nx">map</span><span class="o">:</span>       <span class="s1">&#39;map&#39;</span><span class="p">,</span>
            <span class="nx">meta</span><span class="o">:</span>      <span class="s1">&#39;meta&#39;</span><span class="p">,</span>
            <span class="nx">info</span><span class="o">:</span>      <span class="s1">&#39;info&#39;</span><span class="p">,</span>
            <span class="nx">structure</span><span class="o">:</span> <span class="s1">&#39;structure&#39;</span><span class="p">,</span>
            <span class="c1">// path to load J2S files for JSmol</span>
            <span class="nx">j2sPath</span><span class="o">:</span>   <span class="s1">&#39;https://chemapps.stolaf.edu/jmol/jsmol-2019-10-30/j2s/&#39;</span><span class="p">,</span>
        <span class="p">};</span>

        <span class="nx">Chemiscope</span><span class="p">.</span><span class="nx">DefaultVizualizer</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">config</span><span class="p">,</span> <span class="nx">dataset</span><span class="p">);</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Guillaume Fraux.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>